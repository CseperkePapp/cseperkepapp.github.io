class FloatingSection{constructor(e){this.element=e;this.isPaused=false;this.isAnimating=false;this.duration=20;this.delay=0;this.init()}init(){const i=parseInt(this.element.id.replace('section',''))-1;const t=['30%','40%','50%','60%','70%'];const n=[0,3,6,9,12];this.element.style.left=t[i];this.element.style.transform='translateY(150vh)';this.delay=n[i];this.assignRandomLayer();this.element.addEventListener('click',()=>this.togglePause());setTimeout(()=>this.startAnimation(),this.delay*1e3)}assignRandomLayer(){const e=['back','middle-back','middle','middle-front','front'];const i=Math.floor(Math.random()*e.length);const t=e[i];this.element.classList.remove(...e);this.element.classList.add(t);const n={'back':Math.random()*6+35,'middle-back':Math.random()*4+28,'middle':Math.random()*4+22,'middle-front':Math.random()*4+16,'front':Math.random()*4+12};this.duration=n[t]}togglePause(){this.element.classList.add('clicked');setTimeout(()=>this.element.classList.remove('clicked'),200);this.isPaused?this.resume():this.pause()}pause(){this.isPaused=true;this.element.classList.add('paused');this.element.style.animationPlayState='paused'}resume(){this.isPaused=false;this.element.classList.remove('paused');this.element.style.animationPlayState='running'}startAnimation(){if(this.isAnimating)return;this.isAnimating=true;this.element.style.animation=`floatUp ${this.duration}s linear`;this.element.addEventListener('animationend',()=>{if(!this.isPaused){this.isAnimating=false;setTimeout(()=>this.restartAnimation(),1000+Math.random()*2000)}},{once:!0})}restartAnimation(){if(this.isPaused)return;this.assignRandomLayer();this.element.style.animation='none';this.element.offsetHeight;this.startAnimation()}}document.addEventListener('DOMContentLoaded',()=>{[1,2,3,4,5].forEach(i=>new FloatingSection(document.getElementById(`section${i}`)))});